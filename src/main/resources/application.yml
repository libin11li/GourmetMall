server:
  port: 8080
spring:
  shardingsphere:
    datasource:
      names: master,slave
      master: # 配置主库
        type: com.zaxxer.hikari.HikariDataSource
        jdbcUrl: jdbc:mysql://180.163.89.244:13306/gourment?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true&failOverReadOnly=false&zeroDateTimeBehavior=convertToNull&serverTimezone=GMT%2B8&nullCatalogMeansCurrent=true&useSSL=false&allowPublicKeyRetrieval=true&verifyServerCertificate=false
        username: root
        password: 123456
        driver-class-name: com.mysql.cj.jdbc.Driver
      slave: # 配置第一个从库
        type: com.zaxxer.hikari.HikariDataSource
        jdbcUrl: jdbc:mysql://180.163.89.244:13308/gourment?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true&failOverReadOnly=false&zeroDateTimeBehavior=convertToNull&serverTimezone=GMT%2B8&nullCatalogMeansCurrent=true&useSSL=false&allowPublicKeyRetrieval=true&verifyServerCertificate=false
        username: libin
        password: 123456
        driver-class-name: com.mysql.cj.jdbc.Driver
        maxPoolSize: 20
      config:
        masterslave: # 配置读写分离
          load-balance-algorithm-type: round_robin # 配置从库选择策略，提供轮询与随机，这里选择用轮询//random 随机 //round_robin 轮询
          name: slave
          master-data-source-name: master
          slave-data-source-names: slave
      props:
        sql: # 开启SQL显示，默认值: false，注意：仅配置读写分离时不会打印日志！！！
          show: true

#MybatisPlus配置
mybatis-plus:
  type-enums-package: com.mall.enums
  configuration:
    default-enum-type-handler: org.apache.ibatis.type.EnumOrdinalTypeHandler
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl #开启sql日志
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleteFlag  # 全局逻辑删除的实体字段名
      logic-delete-value: 1 # 逻辑已删除值(默认为 1)
      logic-not-delete-value: 0 # 逻辑未删除值(默认为 0)